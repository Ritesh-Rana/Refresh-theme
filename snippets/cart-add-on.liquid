<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  {% assign free_gift_over_price_30 = 100 %}
  {% assign variant_id = '44979149275425' %}
  $('input[type=number]').change(function(){
    alert("change");
    var cartItems = {{ cart.items | json }},
        qtyInTheCart = 0,
        cartUpdates = {},
        cartTotal = {{ cart.total_price | money_without_currency }};
    for (var i=0; i<cartItems.length; i++) {
      if ( cartItems[i].id === {{ variant_id }} ) {
        qtyInTheCart = cartItems[i].quantity;
        break;
      }
    }
    if (cartTotal >= {{ free_gift_over_price_30 }} ) {
      cartUpdates = { {{ variant_id }}: 1 }
    }
    
    else {
      cartUpdates = { {{ variant_id }}: 0 }
    }
    jQuery.ajax({
      type: 'POST',
      url: '/cart/update',
      data: data,
      dataType: 'json',
      success: function() {
        event.preventDefault();
      }
    });
  });
  
</script>